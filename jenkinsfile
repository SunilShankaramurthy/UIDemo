pipeline {
    agent any
    stages {
        stage('Cleaning Stage') {
            steps {
                   sh "mvn clean"
            }
        }
        stage('Testing Stage') {
            steps {
                   sh "mvn test -Denv=nonprod -DBrowser=chrome -Dtestng.dtd.http=true"
            }
        }
        stage('Packaging Stage') {
             steps {
                     sh "mvn package"
             }
        }
        stage('Result Stage') {
                     steps {
                            input("Do you want to capture the results?")
                            junit'**/target/surefire-reports/TEST-*.xml'
                            archive 'target/*.jar'
                     }
                }
    }
}